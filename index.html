<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scissor/Paper/Rock Game</title>
</head>
<body>
    <script>
        function playerPlay() {
            let selection = prompt('Enter either scissors, paper or rock');
            if (selection == null) {
                alert('Cancelled');
                return;
            } else {
                selection = selection.toLowerCase();
            }
            if (selection === 'scissors' || selection === 'paper' || selection === 'rock') {
                return selection;
            } else {
                alert('Invalid selection');
            }
        }

        function computerPlay(min, max) {
            let randomNumber = Math.floor(Math.random() * (max - min + 1)) + min;
            let selection;
                if (randomNumber == 1) {
                    selection = 'scissors'; 
                } else if (randomNumber == 2) {
                    selection = 'paper';
                } else if (randomNumber == 3) {
                    selection = 'rock';
                }
            return selection;
        }
        
        function playRound(player, computer) {
            if ((player == 'scissors' && computer == 'rock') ||
                (player == 'paper' && computer == 'scissors') ||
                (player == 'rock' && computer == 'paper')) {
                    return `You lose! ${computer} beats ${player}`;
                } else if ((player == 'scissors' && computer == 'paper') ||
                            (player == 'paper' && computer == 'rock') ||
                            (player == 'rock' && computer == 'scissors')) {
                    return `You win! ${player} beats ${computer}`;
                } else {
                    return 'It\'s a draw!';
                } 
        }

        function game() {
            let winOrLose;
            let playerCount = 0;
            let computerCount = 0;
            for (let i = 0; i < 5; i++) {
                let computerSelection = computerPlay(1, 3);
                let playerSelection = playerPlay();
                console.log(playRound(playerSelection, computerSelection));
                winOrLose = playRound(playerSelection, computerSelection);
                    if  (winOrLose.includes('win')) {
                        playerCount++;
                    } else if (winOrLose.includes('lose')) {
                        computerCount++;
                    }
                console.log(`Player ${playerCount} || Computer ${computerCount}`)
            }
            if (playerCount > computerCount) {
                console.log('You are the overall winner!');
            } else if (computerCount > playerCount) {
                console.log('The computer is the overall winner!');
            } else {
                console.log('It was a draw overall!');
            }
        }

        game();
    </script>
</body>
</html>